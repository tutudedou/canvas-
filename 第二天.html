<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>canvas第二天</title>
</head>
<body>
<canvas>
</canvas>
<script>
    var cas = document.querySelector("canvas");
    cas.width = window.innerWidth;
    cas.height = window.innerHeight;
    var context = cas.getContext("2d");
//    context.beginPath();
//    context.fillRect(440, 440, 150, 150);
//    context.clearRect(440, 440, 80, 80);
//    context.clearRect(490, 440, 60, 60);
//    context.clearRect(440, 490, 60, 60);
    var x = 100, y = 100, w = 100, h = 100, step = 3;
    //    var intervalId = setInterval(function () {
    //        context.clearRect(x, y, w, h);
    //        x += step;
    //        if (x >= 400) {
    //            x = 400;
    //            clearInterval(intervalId);
    //        }
    //        context.fillRect(x, y, w, h-50);
    //    }, 200);
//    context.beginPath();
//    context.arc(400, 400, 50, 0, 2 * Math.PI, true);
//    context.arc(400, 400, 100, 0, 2 * Math.PI, false);
//    context.arc(400, 400, 150, 0, 2 * Math.PI, true);
//    context.arc(400, 400, 200, 0, 2 * Math.PI, false);
//    context.fill();
    //绘制圆弧
    context.beginPath();
    context.moveTo(100, 100);
    context.arc(100, 100, 100, -Math.PI / 4, Math.PI, true);
    context.closePath();
    context.fill();
    context.beginPath();
    context.moveTo(100, 100);
    context.arc(100, 100, 100, 0, Math.PI / 3, false);

    context.fillStyle = "green";
    context.closePath();
    //    context.closePath();
    context.fill();


    var deg = 0;
    var img = new Image();
    var img2 = new Image();
    var img3 = new Image();
    img.src = "react.png";
    img2.src = "angular.png";
    img3.src = "vue.png";

    img.width = 100;
    img.height = 50;
    console.log(img);
    var grd = context.createPattern(img, "repeat");
    var grd2 = context.createPattern(img2, "repeat");
    var grd3 = context.createPattern(img3, "repeat");
    function rotate() {
        context.clearRect(400, 300, 200, 200);
        context.beginPath();
        context.moveTo(500, 400);
        context.arc(500, 400, 100, -Math.PI / 2, -Math.PI / 2 + deg / 180 * Math.PI);
        context.closePath();
        context.fillStyle = grd;
        context.fill();
        deg++;
        if (deg > 360) {
            clearInterval(timer);
        }
    }
//    var timer = setInterval(rotate, 20);

    var colors = [grd, grd2, grd3];
    var stag = -90;
    for (var i = 0; i < 3; i++) {
        context.beginPath();
        context.fillStyle = colors[i];
        context.moveTo(700, 200);
        context.arc(700, 200, 100, i * 2 * Math.PI / 3, (i + 1) * 2 * Math.PI / 3);
        context.fill();
    }
    var data = [12, 53, 3];
    var sum=0;
    data.forEach(function(v){
        sum+=v;
    });
    console.log(sum);

    var start=-Math.PI/2;
    for(var j =0;j <data.length;j++){
        context.beginPath();
        context.moveTo(1000, 200);
         context.arc(1000, 200,100,start,start+data[j]/sum*2*Math.PI) ;
        context.fillStyle=colors[j];
        context.fill();
        start+=data[j]/sum*2*Math.PI;
        console.log(start);
    }

    //绘制文本
    context.beginPath();
    context.fillStyle=grd;
    context.font="100px consolas";
    context.fillText("HELLO WORLD",200,400);
//    context.textAlign="center";
    context.textBaseline="top";
    context.strokeText("HELLO WORLD",200,550);

</script>
</body>
</html>